---
tags:
  - 剑指offer
  - 单调队列
id: leetcode_offer59v1
title: 🔴 剑指 Offer 59 - I. 滑动窗口的最大值
---

export const Highlight = ({children, color}) => (
  <span
    style={{
      backgroundColor: color,
      borderRadius: '2px',
      color: '#fff',
      padding: '0.2rem',
    }}>
    {children}
  </span>
);

:::tip LeetCode 提示

题目难度 <Highlight color="#ff375f">困难</Highlight>

原题链接 [🔗 leetcode](https://leetcode-cn.com/problems/hua-dong-chuang-kou-de-zui-da-zhi-lcof/)

:::



## 题解 1_抄了新东西.py

```py
import collections

class Solution:
    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:
        if not nums:
            return []
        # deque是单调递减队列
        deque = collections.deque()
        
        for idx in range(k):
            while deque and deque[-1] < nums[idx]:
                deque.pop()
            deque.append(nums[idx])
        res = [deque[0]]

        for idx in range(k, len(nums)):
            if deque and deque[0] == nums[idx-k]:
                deque.popleft()
            while deque and deque[-1] < nums[idx]:
                deque.pop()
            deque.append(nums[idx])
            res.append(deque[0])
        
        return res
```


