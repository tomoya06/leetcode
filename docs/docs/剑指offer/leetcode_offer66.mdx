---
tags:
  - 剑指offer
  - 数学问题
id: leetcode_offer66
title: 🟡 剑指 Offer 66. 构建乘积数组
ques_id: offer66
platform: leetcode
online_link: https://leetcode-cn.com/problems/gou-jian-cheng-ji-shu-zu-lcof/
online_name: 剑指 Offer 66. 构建乘积数组
level: m
---

export const Highlight = ({children, color}) => (
  <span
    style={{
      backgroundColor: color,
      borderRadius: '2px',
      color: '#fff',
      padding: '0.2rem',
    }}>
    {children}
  </span>
);

:::tip LeetCode 提示

题目难度 <Highlight color="#ffc01e">中等</Highlight>

原题链接 [🔗 leetcode](https://leetcode-cn.com/problems/gou-jian-cheng-ji-shu-zu-lcof/)

:::



## 题解 1_愚昧的解法.py

```py
class Solution:
    def constructArr(self, a: List[int]) -> List[int]:
        if not a:
            return []
        left, right = [1 for _ in range(len(a)+2)], [1 for _ in range(len(a)+2)]
        length = len(a)
        for idx, num in enumerate(a):
            left[idx+1] = left[idx] * num
            right[length-idx] = right[length-idx+1] * a[length-idx-1]
        
        return [left[idx]*right[idx+2] for idx in range(len(a))]
```

## 题解 2_干练的解法.py

```py
class Solution:
    def constructArr(self, a: List[int]) -> List[int]:
        b, tmp = [1 for _ in a], 1
        for idx in range(1, len(a)):
            b[idx] = b[idx-1] * a[idx-1]
        for idx in range(len(a)-2, -1, -1):
            tmp *= a[idx+1]
            b[idx] *= tmp
        return b
```


